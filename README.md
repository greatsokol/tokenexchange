# Микросервис контекста запроса (вызова)

## Входные данные и результат

Микросервис получает токен запроса в заголовке `Authorization: Bearer ...`

Из входящего токена удаляется блок с подписью и параметр заголовка `alg` заполняется значением `none`.

Полученный в результате описанных выше действий токен возвращается в теле ответа с кодом 200.

## Вызов метода

GET /exchange

## Обработка ошибок

Сообщения об ошибке возвращаются в теле ответа c кодом 400.

| Ошибка                                                                             | Пример сообщения                                                                                                                                     |
|------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------|
| нет заголовка authorization, заголовок authorization не начинается со слова bearer | no authorization bearer header                                                                                                                       |
| у токена отутствует заголовок (header)                                             | no header in token                                                                                                                                   |
| у токена отсутствует тело (payload)                                                | no body in token                                                                                                                                     |
| срок токена истек                                                                  | JWT expired at 2024-11-21T08:09:43Z. Current time: 2024-11-22T08:18:18Z, a difference of 86915152 milliseconds.  Allowed clock skew: 0 milliseconds. | 
| токен неправильно сформирован                                                      | в зависимости от характера ошибки, например "Unable to read JSON value".                                                                             |

## Сборка
Выполнить команду `mvn clean package`, собранное приложение `tokenexchange-0.0.1-SNAPSHOT.zip` будет находиться в каталоге `target`

## Запуск
Развернуть архив `tokenexchange-0.0.1-SNAPSHOT.zip`, запустить `tokenexchange` (или `tokenexchange.bat`) тз каталога `bin`
